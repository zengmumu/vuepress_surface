(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{53:function(t,r,e){"use strict";e.r(r);var n=e(0),a=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"四次挥手"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四次挥手","aria-hidden":"true"}},[t._v("#")]),t._v(" 四次挥手")]),e("p",[t._v("挥手就是终止TCP的连接。具体过程如下：")]),e("ul",[e("li",[t._v("第一次挥手"),e("br"),t._v("\n客户端发送一个FIN，用来关闭客户端到服务器的数据传送，客户端进入"),e("strong",[t._v("FIN_WAIT_1")]),t._v("的状态。")]),e("li",[t._v("第二次挥手"),e("br"),t._v("\n服务器端收到FIN之后，给客户端发送一个ACK,确认序号为收到序号+1。服务器端进入"),e("strong",[t._v("CLOSE_WAIT")]),t._v("状态。")]),e("li",[t._v("第三次挥手"),e("br"),t._v("\n服务器端发送一个FIN,用来关闭服务器端到客户端的数据传送，服务器端进入"),e("strong",[t._v("LAST_ACK")]),t._v("状态。")]),e("li",[t._v("第四次挥手"),e("br"),t._v("\nClient收到FIN后，Client进入"),e("strong",[t._v("TIME_WAIT")]),t._v("状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入"),e("strong",[t._v("CLOSED")]),t._v("状态，完成四次挥手。")])]),e("p",[t._v("如图：")]),e("p",[e("img",{attrs:{src:"http://i.imgur.com/zkFBIhb.png",alt:""}})]),e("h5",{attrs:{id:"q：为什么要四次挥手？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#q：为什么要四次挥手？","aria-hidden":"true"}},[t._v("#")]),t._v(" Q：为什么要四次挥手？")]),e("p",[t._v("如果客户端想要停止向服务端发送数据，首先要停止发送数据，并且通知对方，第二步是等待服务器的回复。当然，服务器要向客户端停止发送数据，也得类似。")]),e("p",[t._v("四次挥手是因为 TCP 是全双工的，两端能同时向对方发送数据，如果不足四次的话无法确定双方都没有数据发送了。")]),e("p",[t._v("参考："),e("br"),t._v("\n[1] "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/22639051",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/22639051")]),e("br"),t._v("\n[2] "),e("a",{attrs:{href:"http://www.cnblogs.com/SeaSky0606/p/4741982.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.cnblogs.com/SeaSky0606/p/4741982.html")])])])}],!1,null,null,null);r.default=a.exports}}]);